# 
# It is the very first version of pie lang, it will be changed
# as my will, it is a test case for my langauge
# 

{#
	It is block comment
	TODO Maybe support doc comment later?
#}

module main      # Line comment

import prelude.*   # imported by default
import std

{# There must be a main entry #}
fn main(argc : int, argv : string[]) : int
{
	# if is not a statement but expression
	let i = if (true) { 10; } else { 20; } # i is int with type inference

	test()

	return 0
}


# anonmous function
fn get_func() : int -> int {
	let func = fn (x: int) {
		return x + 1
	}

	# last expression returns
	func
}

fn test() {
	let a = 10
	a += 10
	a = a - 10

	# Put anything
	puts! a
	puts! "It is a string\n"
	puts! math.rand()

	puts! 1 + 1

	puts strlen(a)

	if (a < 10) {
		exit(1)
	}
}